datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       Int    @id @default(autoincrement())
  username String @db.VarChar(50) @unique
  password String @db.VarChar(255)
}

model Paradas {
  ID_parada    Int          @id @default(autoincrement())
  latitude     Decimal      @db.Decimal(10, 8)
  longitude    Decimal      @db.Decimal(11, 8)

  paradasRotas ParadasRotas[]
}

model RotasBairros {
  ID_rota_bairro Int    @id @default(autoincrement())
  local_inicio   String @db.VarChar(100)
  local_final    String @db.VarChar(100)

  paradasRotas ParadasRotas[]
  horarios     Horarios[]
}

model ParadasRotas {
  ID_parada      Int
  ID_rota_bairro Int

  paradas       Paradas      @relation(fields: [ID_parada], references: [ID_parada])
  rotasBairros  RotasBairros @relation(fields: [ID_rota_bairro], references: [ID_rota_bairro])

  @@id([ID_parada, ID_rota_bairro])
}

model Horarios {
  ID_horario     Int    @id @default(autoincrement())
  ID_rota_bairro Int
  hora           DateTime @db.Time
  tipo           String   @db.VarChar(10)

  rotasBairros RotasBairros @relation(fields: [ID_rota_bairro], references: [ID_rota_bairro])
}
